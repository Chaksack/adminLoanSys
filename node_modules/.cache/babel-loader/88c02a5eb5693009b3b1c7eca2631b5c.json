{"ast":null,"code":"import { ref } from \"vue\";\nimport axios from \"axios\";\nimport LocalStorageService from \"../APIs/token\";\nimport { Dialog, DialogPanel, DialogTitle, TransitionChild, TransitionRoot } from \"@headlessui/vue\";\nimport { XIcon } from \"@heroicons/vue/outline\";\nexport default {\n  name: \"TableData\",\n  components: {\n    Dialog,\n    DialogPanel,\n    DialogTitle,\n    TransitionChild,\n    TransitionRoot,\n    XIcon\n  },\n\n  data() {\n    return {\n      // credit_details: null,\n      credit: [],\n      savings: [],\n      tableData: []\n    };\n  },\n\n  props: [\"applicationData\"],\n  methods: {\n    getCreditApp() {\n      const creditAPI = axios.create({\n        baseURL: \"http://sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken()\n        }\n      }); // extAPI.interceptors.request.use((config) => {\n      //   config.headers[\"Authorization\"] =\n      //     \"Bearer \" + localStorage.getItem(\"token\");\n      // });\n\n      creditAPI.get(\"/api/credit\").then(response => {\n        // this.getCreditApp = response.data.pageItems;\n        this.credit = response.data.pageItems;\n        this.tableData = this.credit;\n      }).catch(error => {\n        console.log(\"There was an error:\", error.data);\n      });\n    },\n\n    getCreditTrans() {\n      const transAPI = axios.create({\n        baseURL: \"http://sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken()\n        }\n      });\n      transAPI.get(\"/api/savings\").then(response => {\n        this.getCreditTrans = response.data.pageItems;\n      }).catch(error => {\n        console.log(\"There was an error:\", error.data);\n      });\n    },\n\n    disburseLoan(loadId) {\n      const apiData = axios.create({\n        baseURL: \"http://sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken()\n        }\n      }); // isTable.value = false;\n\n      apiData.post(`/api/credit/${loadId}/disburse`).then(response => {\n        this.acc_details = response.data;\n      }).then(this.getCreditApp()).catch(error => {\n        console.log(\"There was an error:\", error.data);\n      });\n    }\n\n  },\n\n  setup() {\n    let checkDetails = ref(null);\n    let acc_details = ref(Object);\n    let isTable = ref(false);\n    return {\n      checkDetails,\n      acc_details,\n      isTable\n    };\n  },\n\n  setIsTable(value) {\n    this.isTable.value = value;\n  },\n\n  // // eslint-disable-next-line vue/no-dupe-keys\n  // message,\n  // setIsTable(value, c_id) {\n  //   // if (value == true) {\n  //   const apiData = axios.create({\n  //     baseURL: \"http://sandbox.pavelon.com\",\n  //     headers: {\n  //       Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n  //       \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n  //       \"x-api-version\": \"v3\",\n  //       \"xbs-token\": LocalStorageService.getXbsToken(),\n  //     },\n  //   });\n  //   isTable.value = value;\n  //   // if (c_id) {\n  //   apiData\n  //     .get(`/api/credit/${c_id}/details`)\n  //     .then((response) => {\n  //       this.acc_details = response.data;\n  //     })\n  //     .catch((error) => {\n  //       console.log(\"There was an error:\", error.data);\n  //     });\n  // },\n  mounted() {\n    this.getCreditApp();\n  }\n\n};","map":{"version":3,"mappings":"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","names":["ref","axios","LocalStorageService","Dialog","DialogPanel","DialogTitle","TransitionChild","TransitionRoot","XIcon","name","components","data","credit","savings","tableData","props","methods","getCreditApp","creditAPI","create","baseURL","headers","Authorization","getAccessToken","getXbsToken","get","then","response","pageItems","catch","error","console","log","getCreditTrans","transAPI","disburseLoan","loadId","apiData","post","acc_details","setup","checkDetails","Object","isTable","setIsTable","value","mounted"],"sourceRoot":"","sources":["/Users/mr.k8/Documents/GitHub/loanSys/src/views/tableData.vue"],"sourcesContent":["<template>\n  <div class=\"mt-2 flex ml-24 flex-col\">\n    <div class=\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n      <div class=\"inline-block min-w-full py-2 align-middle\">\n        <div class=\"overflow-hidden\">\n          <table class=\"min-w-full divide-y divide-gray-300\">\n            <thead class=\"bg-gray-50\">\n              <tr>\n                <th\n                  scope=\"col\"\n                  class=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 lg:pl-8\"\n                >\n                  Id\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 lg:pl-8\"\n                >\n                  Account No\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n                >\n                  Name\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n                >\n                  Client ID\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n                >\n                  Client Office ID\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n                >\n                  Principal Amount\n                </th>\n                <!-- <th\n                      scope=\"col\"\n                      class=\"relative py-3.5 pl-3 pr-4 sm:pr-6 lg:pr-8\"\n                    >\n                      <span class=\"sr-only\">Edit</span>\n                    </th> -->\n              </tr>\n            </thead>\n            <tbody class=\"divide-y divide-gray-200 bg-white\">\n              <tr\n                v-for=\"(credit, index) in tableData\"\n                :key=\"index\"\n                @click=\"setIsTable(true, credit.id)\"\n              >\n                <td\n                  class=\"whitespace-nowrap py-3.5 pl-4 pr-3 text-sm text-left font-medium text-gray-500 sm:pl-6 lg:pl-8\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.id }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap py-3.5 pl-4 pr-3 text-sm text-left font-medium text-gray-900 sm:pl-6 lg:pl-8\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.accountNo }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap px-3 py-3.5 text-sm text-left text-gray-500\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.clientName }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap px-3 py-3.5 text-sm text-left text-gray-500\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.clientId }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap px-3 py-3.5 text-sm text-left text-gray-500\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.clientOfficeId }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap px-3 py-3.5 text-sm text-left text-gray-500\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.approvedPrincipal }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap px-3 py-3.5 text-sm text-left text-gray-500\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.currencyCode }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- view staff details -->\n  <div>\n    <TransitionRoot as=\"template\" :show=\"isTable\">\n      <Dialog\n        as=\"div\"\n        :initialFocus=\"checkDetails\"\n        class=\"relative z-10\"\n        :open=\"isTable\"\n        @close=\"setIsTable = false\"\n      >\n        <div class=\"fixed inset-0\" />\n\n        <div class=\"fixed inset-0 overflow-hidden\">\n          <div class=\"absolute inset-0 overflow-hidden\">\n            <div\n              class=\"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16\"\n            >\n              <TransitionChild\n                as=\"template\"\n                enter=\"transform transition ease-in-out duration-500 sm:duration-700\"\n                enter-from=\"translate-x-full\"\n                enter-to=\"translate-x-0\"\n                leave=\"transform transition ease-in-out duration-500 sm:duration-700\"\n                leave-from=\"translate-x-0\"\n                leave-to=\"translate-x-full\"\n              >\n                <DialogPanel class=\"pointer-events-auto w-screen max-w-2xl\">\n                  <div\n                    class=\"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl\"\n                  >\n                    <div class=\"px-4 sm:px-6\">\n                      <div class=\"flex items-start justify-between\">\n                        <DialogTitle class=\"text-lg font-medium text-gray-900\">\n                          view Application details\n                        </DialogTitle>\n                        <div class=\"ml-3 flex h-7 items-center\">\n                          <div\n                            class=\"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n                            @click=\"setIsTable(false)\"\n                          >\n                            <span class=\"sr-only\">Close panel</span>\n                            <XIcon class=\"h-6 w-6\" aria-hidden=\"true\" />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"relative mt-6 flex-1 px-4 sm:px-6\">\n                      <!-- Replace with your content -->\n\n                      <div\n                        class=\"bg-white shadow px-4 py-5 sm:rounded-lg lg:p-6\"\n                      >\n                        <div class=\"lg:grid lg:grid-cols-2 lg:gap-6\">\n                          <div class=\"mt-5 md:mt-0 md:col-span-2\">\n                            <form>\n                              <div class=\"grid grid-cols-6 gap-6\">\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"clientId\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Client Id</label\n                                  >\n                                  <p>{{ acc_details.clientId }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"accountNo\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                  >\n                                    Account Number\n                                  </label>\n                                  <p>{{ acc_details.accountNo }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Client Account Numbber</label\n                                  >\n                                  <p>{{ acc_details.clientAccountNo }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Client Name</label\n                                  >\n                                  <p>{{ acc_details.clientName }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Client Office Id</label\n                                  >\n                                  <p>{{ acc_details.clientOfficeId }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                  >\n                                    Loan Product Id</label\n                                  >\n                                  <p>{{ acc_details.loanProductId }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                  >\n                                    Loan Product Name</label\n                                  >\n                                  <p>{{ acc_details.loanProductName }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                  >\n                                    Principal Amount</label\n                                  >\n                                  <p>{{ acc_details.principal }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Approved Principal Amount</label\n                                  >\n                                  <p>{{ acc_details.approvedPrincipal }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Proposed Principal Amount</label\n                                  >\n                                  <p>{{ acc_details.proposedPrincipal }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Net Disbursal Amount</label\n                                  >\n                                  <p>\n                                    {{ acc_details.netDisbursalAmount }}\n                                  </p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Term Frequency</label\n                                  >\n                                  <p>{{ acc_details.termFrequency }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Number of Repayments</label\n                                  >\n                                  <p>{{ acc_details.numberOfRepayment }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Repayment Every</label\n                                  >\n                                  <p>{{ acc_details.repaymentEvery }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Interest Rate Per Period</label\n                                  >\n                                  <p>\n                                    {{ acc_details.interestRatePerPeriod }}\n                                  </p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Annual Interest Rate</label\n                                  >\n                                  <p>\n                                    {{ acc_details.annualInterestRate }}\n                                  </p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Loan Type</label\n                                  >\n                                  <!-- <p>{{ acc_details.loanType[\"value\"] }}</p> -->\n                                </div>\n\n                                <div\n                                  class=\"col-span-6 lg:col-span-6\"\n                                  style=\"position: relative: z-index: 900;\"\n                                >\n                                  <button\n                                    type=\"button\"\n                                    @click=\"disburseLoan(acc_details.clientId)\"\n                                    class=\"mx-2 inline-flex items-center justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-lg font-bold text-white shadow-sm hover:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 sm:w-auto\"\n                                  >\n                                    Approve\n                                  </button>\n                                  <button\n                                    type=\"button\"\n                                    class=\"mx-2 inline-flex items-center justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-lg font-bold text-white shadow-sm hover:bg-red-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:w-auto\"\n                                    @click.prevent=\"createBorrower\"\n                                  >\n                                    Reject\n                                  </button>\n                                  <button\n                                    type=\"button\"\n                                    class=\"mx-2 inline-flex items-center justify-center rounded-md border border-transparent bg-gray-600 px-4 py-2 text-lg font-bold text-white shadow-sm hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 sm:w-auto\"\n                                    @click.prevent=\"createBorrower\"\n                                  >\n                                    Close\n                                  </button>\n                                </div>\n                              </div>\n                            </form>\n                          </div>\n                        </div>\n                      </div>\n\n                      <!-- <div class=\"absolute inset-0 px-4 sm:px-6\">\n                            <div\n                              class=\"h-full border-2 border-dashed border-gray-200\"\n                              aria-hidden=\"true\"\n                            />\n                          </div>\n                          <div class=\"absolute inset-0 px-4 sm:px-6\">\n                            <div\n                              class=\"h-full border-2 border-dashed border-gray-200\"\n                              aria-hidden=\"true\"\n                            />\n                          </div> -->\n                      <!-- /End replace -->\n                    </div>\n                  </div>\n                </DialogPanel>\n              </TransitionChild>\n            </div>\n          </div>\n        </div>\n      </Dialog>\n    </TransitionRoot>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nimport LocalStorageService from \"../APIs/token\";\nimport {\n  Dialog,\n  DialogPanel,\n  DialogTitle,\n  TransitionChild,\n  TransitionRoot,\n} from \"@headlessui/vue\";\nimport { XIcon } from \"@heroicons/vue/outline\";\n\nexport default {\n  name: \"TableData\",\n  components: {\n    Dialog,\n    DialogPanel,\n    DialogTitle,\n    TransitionChild,\n    TransitionRoot,\n    XIcon,\n  },\n  data() {\n    return {\n      // credit_details: null,\n      credit: [],\n      savings: [],\n      tableData: [],\n    };\n  },\n  props: [\"applicationData\"],\n  methods: {\n    getCreditApp() {\n      const creditAPI = axios.create({\n        baseURL: \"http://sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken(),\n        },\n      });\n\n      // extAPI.interceptors.request.use((config) => {\n      //   config.headers[\"Authorization\"] =\n      //     \"Bearer \" + localStorage.getItem(\"token\");\n      // });\n\n      creditAPI\n        .get(\"/api/credit\")\n        .then((response) => {\n          // this.getCreditApp = response.data.pageItems;\n          this.credit = response.data.pageItems;\n          this.tableData = this.credit;\n        })\n        .catch((error) => {\n          console.log(\"There was an error:\", error.data);\n        });\n    },\n    getCreditTrans() {\n      const transAPI = axios.create({\n        baseURL: \"http://sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken(),\n        },\n      });\n      transAPI\n        .get(\"/api/savings\")\n        .then((response) => {\n          this.getCreditTrans = response.data.pageItems;\n        })\n        .catch((error) => {\n          console.log(\"There was an error:\", error.data);\n        });\n    },\n    disburseLoan(loadId) {\n      const apiData = axios.create({\n        baseURL: \"http://sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken(),\n        },\n      });\n\n      // isTable.value = false;\n      apiData\n        .post(`/api/credit/${loadId}/disburse`)\n        .then((response) => {\n          this.acc_details = response.data;\n        })\n        .then(this.getCreditApp())\n        .catch((error) => {\n          console.log(\"There was an error:\", error.data);\n        });\n    },\n  },\n  setup() {\n    let checkDetails = ref(null);\n    let acc_details = ref(Object);\n    let isTable = ref(false);\n\n    return {\n      checkDetails,\n      acc_details,\n      isTable,\n    };\n  },\n  setIsTable(value) {\n    this.isTable.value = value;\n  }, // // eslint-disable-next-line vue/no-dupe-keys\n  // message,\n  // setIsTable(value, c_id) {\n  //   // if (value == true) {\n  //   const apiData = axios.create({\n  //     baseURL: \"http://sandbox.pavelon.com\",\n  //     headers: {\n  //       Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n  //       \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n  //       \"x-api-version\": \"v3\",\n  //       \"xbs-token\": LocalStorageService.getXbsToken(),\n  //     },\n  //   });\n\n  //   isTable.value = value;\n  //   // if (c_id) {\n  //   apiData\n  //     .get(`/api/credit/${c_id}/details`)\n  //     .then((response) => {\n  //       this.acc_details = response.data;\n  //     })\n  //     .catch((error) => {\n  //       console.log(\"There was an error:\", error.data);\n  //     });\n  // },\n  mounted() {\n    this.getCreditApp();\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module"}
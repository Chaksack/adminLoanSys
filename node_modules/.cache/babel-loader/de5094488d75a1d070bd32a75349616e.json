{"ast":null,"code":"import { ref } from \"vue\";\nimport axios from \"axios\";\nimport LocalStorageService from \"../APIs/token\";\nimport { Dialog, DialogPanel, DialogTitle, TransitionChild, TransitionRoot } from \"@headlessui/vue\";\nimport { XIcon } from \"@heroicons/vue/outline\";\nexport default {\n  name: \"TableData\",\n  components: {\n    Dialog,\n    DialogPanel,\n    DialogTitle,\n    TransitionChild,\n    TransitionRoot,\n    XIcon\n  },\n\n  data() {\n    return {\n      // credit_details: null,\n      credit: [],\n      savings: [],\n      tableData: []\n    };\n  },\n\n  props: {\n    pagination: {\n      type: Object,\n      required: true\n    }\n  },\n  methods: {\n    createChunk(array, chunkSize) {\n      let index = 0;\n      let arrayLength = array.length;\n      let tempArray = [];\n\n      for (index = 0; index < arrayLength; index += chunkSize) {\n        tempArray.push(array.slice(index, index + chunkSize));\n      }\n\n      return tempArray;\n    },\n\n    getCreditApp() {\n      const creditAPI = axios.create({\n        baseURL: \"https://api.sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken()\n        }\n      }); // extAPI.interceptors.request.use((config) => {\n      //   config.headers[\"Authorization\"] =\n      //     \"Bearer \" + localStorage.getItem(\"token\");\n      // });\n\n      creditAPI.get(\"/api/credit\").then(response => {\n        // this.getCreditApp = response.data.pageItems;\n        this.credit = response.data.pageItems;\n        this.tableData = this.createChunk(this.credit, 30); // console.log(this.tableData[0]);\n        // this.tableData = this.temp[0];\n      }).catch(error => {\n        console.log(\"There was an error:\", error.data);\n      });\n    },\n\n    getCreditTrans() {\n      const transAPI = axios.create({\n        baseURL: \"https://api.sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken()\n        }\n      });\n      transAPI.get(\"/api/savings\").then(response => {\n        this.getCreditTrans = response.data.pageItems;\n      }).catch(error => {\n        console.log(\"There was an error:\", error.data);\n      });\n    },\n\n    disburseLoan(loadId) {\n      const apiData = axios.create({\n        baseURL: \"https://api.sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken()\n        }\n      }); // isTable.value = false;\n\n      apiData.post(`/api/credit/${loadId}/disburse`).then(response => {\n        this.acc_details = response.data;\n      }).then(this.getCreditApp()).catch(error => {\n        console.log(\"There was an error:\", error.data);\n      });\n    },\n\n    approveLoan(loadId) {\n      const approveData = axios.create({\n        baseURL: \"https://api.sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken()\n        }\n      }); // isTable.value = false;\n\n      approveData.post(`/api/credit/${loadId}`).then(response => {\n        this.acc_details = response.data;\n      }).then(this.getCreditApp()).catch(error => {\n        console.log(\"There was an error:\", error.data);\n      });\n    },\n\n    rejectLoan(loadId) {\n      const rejectData = axios.create({\n        baseURL: \"https://api.sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken()\n        }\n      }); // isTable.value = false;\n\n      rejectData.post(`/api/creditApplication/${loadId}`).then(response => {\n        this.acc_details = response.data;\n      }).then(this.getCreditApp()).catch(error => {\n        console.log(\"There was an error:\", error.data);\n      });\n    }\n\n  },\n\n  mounted() {\n    this.getCreditApp();\n  },\n\n  setup() {\n    let checkDetails = ref(null);\n    let acc_details = ref(Object);\n    let isTable = ref(false);\n    return {\n      checkDetails,\n      acc_details,\n      isTable,\n\n      // // eslint-disable-next-line vue/no-dupe-keys\n      // message,\n      setIsTable(value, c_id) {\n        // if (value == true) {\n        const apiData = axios.create({\n          baseURL: \"https://api.sandbox.pavelon.com\",\n          headers: {\n            Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n            \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n            \"x-api-version\": \"v3\",\n            \"xbs-token\": LocalStorageService.getXbsToken()\n          }\n        }); // eslint-disable-next-line no-undef\n\n        isTable.value = value; // if (c_id) {\n\n        apiData.get(`/api/credit/${c_id}/details`).then(response => {\n          this.acc_details = response.data;\n        }).catch(error => {\n          console.log(\"There was an error:\", error.data);\n        });\n      }\n\n    };\n  }\n\n};","map":{"version":3,"mappings":"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","names":["ref","axios","LocalStorageService","Dialog","DialogPanel","DialogTitle","TransitionChild","TransitionRoot","XIcon","name","components","data","credit","savings","tableData","props","pagination","type","Object","required","methods","createChunk","array","chunkSize","index","arrayLength","length","tempArray","push","slice","getCreditApp","creditAPI","create","baseURL","headers","Authorization","getAccessToken","getXbsToken","get","then","response","pageItems","catch","error","console","log","getCreditTrans","transAPI","disburseLoan","loadId","apiData","post","acc_details","approveLoan","approveData","rejectLoan","rejectData","mounted","setup","checkDetails","isTable","setIsTable","value","c_id"],"sourceRoot":"","sources":["/Users/curtismensah/Projects/Personal/adminLoanSys/src/views/tableData.vue"],"sourcesContent":["<template>\n  <div class=\"mt-2 flex ml-24 flex-col\">\n    <div class=\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n      <div class=\"inline-block min-w-full py-2 align-middle\">\n        <div class=\"overflow-hidden\">\n          <table class=\"min-w-full divide-y divide-gray-300\">\n            <thead class=\"bg-gray-50\">\n              <tr>\n                <th\n                  scope=\"col\"\n                  class=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 lg:pl-8\"\n                >\n                  Id\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 lg:pl-8\"\n                >\n                  Account No\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n                >\n                  Name\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n                >\n                  Client ID\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n                >\n                  Client Office ID\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n                >\n                  Principal Amount\n                </th>\n                <!-- <th\n                      scope=\"col\"\n                      class=\"relative py-3.5 pl-3 pr-4 sm:pr-6 lg:pr-8\"\n                    >\n                      <span class=\"sr-only\">Edit</span>\n                    </th> -->\n              </tr>\n            </thead>\n            <tbody class=\"divide-y divide-gray-200 bg-white\">\n              <tr\n                v-for=\"(credit, index) in tableData[pagination]\"\n                :key=\"index\"\n                @click=\"setIsTable(true, credit.id)\"\n              >\n                <td\n                  class=\"whitespace-nowrap py-3.5 pl-4 pr-3 text-sm text-left font-medium text-gray-500 sm:pl-6 lg:pl-8\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.id }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap py-3.5 pl-4 pr-3 text-sm text-left font-medium text-gray-900 sm:pl-6 lg:pl-8\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.accountNo }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap px-3 py-3.5 text-sm text-left text-gray-500\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.clientName }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap px-3 py-3.5 text-sm text-left text-gray-500\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.clientId }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap px-3 py-3.5 text-sm text-left text-gray-500\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.clientOfficeId }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap px-3 py-3.5 text-sm text-left text-gray-500\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.approvedPrincipal }}\n                </td>\n                <td\n                  class=\"whitespace-nowrap px-3 py-3.5 text-sm text-left text-gray-500\"\n                  @click=\"setIsTable(true)\"\n                >\n                  {{ credit.currencyCode }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- view staff details -->\n  <div>\n    <TransitionRoot as=\"template\" :show=\"isTable\">\n      <Dialog\n        as=\"div\"\n        :initialFocus=\"checkDetails\"\n        class=\"relative z-10\"\n        :open=\"isTable\"\n        @close=\"setIsTable = false\"\n      >\n        <div class=\"fixed inset-0\" />\n\n        <div class=\"fixed inset-0 overflow-hidden\">\n          <div class=\"absolute inset-0 overflow-hidden\">\n            <div\n              class=\"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16\"\n            >\n              <TransitionChild\n                as=\"template\"\n                enter=\"transform transition ease-in-out duration-500 sm:duration-700\"\n                enter-from=\"translate-x-full\"\n                enter-to=\"translate-x-0\"\n                leave=\"transform transition ease-in-out duration-500 sm:duration-700\"\n                leave-from=\"translate-x-0\"\n                leave-to=\"translate-x-full\"\n              >\n                <DialogPanel class=\"pointer-events-auto w-screen max-w-2xl\">\n                  <div\n                    class=\"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl\"\n                  >\n                    <div class=\"px-4 sm:px-6\">\n                      <div class=\"flex items-start justify-between\">\n                        <DialogTitle class=\"text-lg font-medium text-gray-900\">\n                          view Application details\n                        </DialogTitle>\n                        <div class=\"ml-3 flex h-7 items-center\">\n                          <div\n                            class=\"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n                            @click=\"setIsTable(false)\"\n                          >\n                            <span class=\"sr-only\">Close panel</span>\n                            <XIcon class=\"h-6 w-6\" aria-hidden=\"true\" />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"relative mt-6 flex-1 px-4 sm:px-6\">\n                      <!-- Replace with your content -->\n\n                      <div\n                        class=\"bg-white shadow px-4 py-5 sm:rounded-lg lg:p-6\"\n                      >\n                        <div class=\"lg:grid lg:grid-cols-2 lg:gap-6\">\n                          <div class=\"mt-5 md:mt-0 md:col-span-2\">\n                            <form>\n                              <div class=\"grid grid-cols-6 gap-6\">\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"clientId\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Client Id</label\n                                  >\n                                  <p>{{ acc_details.clientId }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"accountNo\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                  >\n                                    Account Number\n                                  </label>\n                                  <p>{{ acc_details.accountNo }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Client Account Numbber</label\n                                  >\n                                  <p>{{ acc_details.clientAccountNo }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Client Name</label\n                                  >\n                                  <p>{{ acc_details.clientName }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Client Office Id</label\n                                  >\n                                  <p>{{ acc_details.clientOfficeId }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                  >\n                                    Loan Product Id</label\n                                  >\n                                  <p>{{ acc_details.loanProductId }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                  >\n                                    Loan Product Name</label\n                                  >\n                                  <p>{{ acc_details.loanProductName }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                  >\n                                    Loan Product Description</label\n                                  >\n                                  <p>\n                                    {{ acc_details.loanProductDescription }}\n                                  </p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"full-name\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                  >\n                                    Principal Amount</label\n                                  >\n                                  <p>{{ acc_details.principal }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Approved Principal Amount</label\n                                  >\n                                  <p>{{ acc_details.approvedPrincipal }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Proposed Principal Amount</label\n                                  >\n                                  <p>{{ acc_details.proposedPrincipal }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Net Disbursal Amount</label\n                                  >\n                                  <p>\n                                    {{ acc_details.netDisbursalAmount }}\n                                  </p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Term Frequency</label\n                                  >\n                                  <p>{{ acc_details.termFrequency }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Number of Repayments</label\n                                  >\n                                  <p>{{ acc_details.numberOfRepayment }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Repayment Every</label\n                                  >\n                                  <p>{{ acc_details.repaymentEvery }}</p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Interest Rate Per Period</label\n                                  >\n                                  <p>\n                                    {{ acc_details.interestRatePerPeriod }}\n                                  </p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Annual Interest Rate</label\n                                  >\n                                  <p>\n                                    {{ acc_details.annualInterestRate }}\n                                  </p>\n                                </div>\n                                <div class=\"col-span-6 md:col-span-3\">\n                                  <label\n                                    for=\"mobilenumber\"\n                                    class=\"block text-sm font-medium text-gray-700\"\n                                    >Loan Type</label\n                                  >\n                                  <!-- <p>{{ acc_details.loanType[\"value\"] }}</p> -->\n                                </div>\n\n                                <div\n                                  class=\"col-span-6 lg:col-span-6\"\n                                  style=\"position: relative: z-index: 900;\"\n                                >\n                                  <button\n                                    type=\"button\"\n                                    @click=\"approveLoan()\"\n                                    class=\"mx-2 inline-flex items-center justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-lg font-bold text-white shadow-sm hover:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 sm:w-auto\"\n                                  >\n                                    Approve\n                                  </button>\n                                  <button\n                                    type=\"button\"\n                                    class=\"mx-2 inline-flex items-center justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-lg font-bold text-white shadow-sm hover:bg-red-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:w-auto\"\n                                    @click=\"rejectLoan()\"\n                                  >\n                                    Reject\n                                  </button>\n                                  <button\n                                    type=\"button\"\n                                    class=\"mx-2 inline-flex items-center justify-center rounded-md border border-transparent bg-gray-600 px-4 py-2 text-lg font-bold text-white shadow-sm hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 sm:w-auto\"\n                                    @click=\"setIsTable(false)\"\n                                  >\n                                    Close\n                                  </button>\n                                </div>\n                              </div>\n                            </form>\n                          </div>\n                        </div>\n                      </div>\n\n                      <!-- <div class=\"absolute inset-0 px-4 sm:px-6\">\n                            <div\n                              class=\"h-full border-2 border-dashed border-gray-200\"\n                              aria-hidden=\"true\"\n                            />\n                          </div>\n                          <div class=\"absolute inset-0 px-4 sm:px-6\">\n                            <div\n                              class=\"h-full border-2 border-dashed border-gray-200\"\n                              aria-hidden=\"true\"\n                            />\n                          </div> -->\n                      <!-- /End replace -->\n                    </div>\n                  </div>\n                </DialogPanel>\n              </TransitionChild>\n            </div>\n          </div>\n        </div>\n      </Dialog>\n    </TransitionRoot>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nimport LocalStorageService from \"../APIs/token\";\nimport {\n  Dialog,\n  DialogPanel,\n  DialogTitle,\n  TransitionChild,\n  TransitionRoot,\n} from \"@headlessui/vue\";\nimport { XIcon } from \"@heroicons/vue/outline\";\n\nexport default {\n  name: \"TableData\",\n  components: {\n    Dialog,\n    DialogPanel,\n    DialogTitle,\n    TransitionChild,\n    TransitionRoot,\n    XIcon,\n  },\n  data() {\n    return {\n      // credit_details: null,\n      credit: [],\n      savings: [],\n      tableData: [],\n    };\n  },\n  props: { pagination: { type: Object, required: true } },\n  methods: {\n    createChunk(array, chunkSize) {\n      let index = 0;\n      let arrayLength = array.length;\n      let tempArray = [];\n      for (index = 0; index < arrayLength; index += chunkSize) {\n        tempArray.push(array.slice(index, index + chunkSize));\n      }\n      return tempArray;\n    },\n    getCreditApp() {\n      const creditAPI = axios.create({\n        baseURL: \"https://api.sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken(),\n        },\n      });\n\n      // extAPI.interceptors.request.use((config) => {\n      //   config.headers[\"Authorization\"] =\n      //     \"Bearer \" + localStorage.getItem(\"token\");\n      // });\n\n      creditAPI\n        .get(\"/api/credit\")\n        .then((response) => {\n          // this.getCreditApp = response.data.pageItems;\n          this.credit = response.data.pageItems;\n          this.tableData = this.createChunk(this.credit, 30);\n          // console.log(this.tableData[0]);\n          // this.tableData = this.temp[0];\n        })\n        .catch((error) => {\n          console.log(\"There was an error:\", error.data);\n        });\n    },\n    getCreditTrans() {\n      const transAPI = axios.create({\n        baseURL: \"https://api.sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken(),\n        },\n      });\n      transAPI\n        .get(\"/api/savings\")\n        .then((response) => {\n          this.getCreditTrans = response.data.pageItems;\n        })\n        .catch((error) => {\n          console.log(\"There was an error:\", error.data);\n        });\n    },\n    disburseLoan(loadId) {\n      const apiData = axios.create({\n        baseURL: \"https://api.sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken(),\n        },\n      });\n\n      // isTable.value = false;\n      apiData\n        .post(`/api/credit/${loadId}/disburse`)\n        .then((response) => {\n          this.acc_details = response.data;\n        })\n        .then(this.getCreditApp())\n        .catch((error) => {\n          console.log(\"There was an error:\", error.data);\n        });\n    },\n    approveLoan(loadId) {\n      const approveData = axios.create({\n        baseURL: \"https://api.sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken(),\n        },\n      });\n\n      // isTable.value = false;\n      approveData\n        .post(`/api/credit/${loadId}`)\n        .then((response) => {\n          this.acc_details = response.data;\n        })\n        .then(this.getCreditApp())\n        .catch((error) => {\n          console.log(\"There was an error:\", error.data);\n        });\n    },\n    rejectLoan(loadId) {\n      const rejectData = axios.create({\n        baseURL: \"https://api.sandbox.pavelon.com\",\n        headers: {\n          Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n          \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n          \"x-api-version\": \"v3\",\n          \"xbs-token\": LocalStorageService.getXbsToken(),\n        },\n      });\n\n      // isTable.value = false;\n      rejectData\n        .post(`/api/creditApplication/${loadId}`)\n        .then((response) => {\n          this.acc_details = response.data;\n        })\n        .then(this.getCreditApp())\n        .catch((error) => {\n          console.log(\"There was an error:\", error.data);\n        });\n    },\n  },\n  mounted() {\n    this.getCreditApp();\n  },\n  setup() {\n    let checkDetails = ref(null);\n    let acc_details = ref(Object);\n    let isTable = ref(false);\n\n    return {\n      checkDetails,\n      acc_details,\n      isTable,\n      // // eslint-disable-next-line vue/no-dupe-keys\n      // message,\n      setIsTable(value, c_id) {\n        // if (value == true) {\n        const apiData = axios.create({\n          baseURL: \"https://api.sandbox.pavelon.com\",\n          headers: {\n            Authorization: \"Bearer \" + LocalStorageService.getAccessToken(),\n            \"x-api-key\": \"x64cRjHA3240SSdfdk\",\n            \"x-api-version\": \"v3\",\n            \"xbs-token\": LocalStorageService.getXbsToken(),\n          },\n        });\n\n        // eslint-disable-next-line no-undef\n        isTable.value = value;\n        // if (c_id) {\n        apiData\n          .get(`/api/credit/${c_id}/details`)\n          .then((response) => {\n            this.acc_details = response.data;\n          })\n          .catch((error) => {\n            console.log(\"There was an error:\", error.data);\n          });\n      },\n    };\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module"}